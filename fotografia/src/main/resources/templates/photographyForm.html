<!DOCTYPE HTML>
<html 
	xmlns:th="http://www.thymeleaf.org"
	xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<link th:href="@{/layout/styles/photographyForm.css}" rel="stylesheet">
	<title>Fotografia - Inserisci foto</title>
</head>
<body>
<header>
	<a th:href="@{/default}" class="header-brand">Fotografia</a>
	<nav>
		<ul class="nav_links">
			<li><a th:href="@{/default}">Home</a></li>
			
			<li>
			<div class="dropdown">
				<a class="dropbtn">Inserisci</a>
				<div class="dropdown-content">
					<a th:href="@{/admin/category}">Categoria</a>
					<a th:href="@{/admin/photographer}">Fotografo</a>
					<a th:href="@{/admin/photography}">Foto</a>
				</div>
				</div>
			</li>
			
			<li>
			<div class="dropdown">
				<a class="dropbtn">Elenco</a>
				<div class="dropdown-content">
					<a th:href="@{/category}">Categorie</a>
					<a th:href="@{/photographer}">Fotografi</a>
					<a th:href="@{/photography}">Foto</a>
				</div>
				</div>
			</li>
		</ul>
		</nav>
		<ul class="nav_links2">
				<li><a th:href="@{/logout}"class="button">Logout</a></li>
		</ul>
</header>
<div class="benvenuto">
<p>Admin: <a sec:authentication="name"></a></p>
</div>

<section class="contentForm">
<div class="main">
		<form th:action="@{/admin/photography}" method="POST" th:object="${photography}" enctype="multipart/form-data">
			<div th:if="${#fields.hasGlobalErrors()}">
				<p th:each="err : ${#fields.globalErrors()}" th:text="${err}" th:style="'color:red'">...</p>
			</div>
			<div class="formTitle">
				<p>Foto</p>
			</div>
			
			<table class="centerTable">
				<tr>
					<td>
					<div class="titleText">
					<h6>
						<span>Titolo<br><input type="text" class="title" th:field="*{title}" id="photography" placeholder="Inserisci titolo" required/></span>
					</h6>
					</div>
					<span th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></span>
					</td>
					
					<td>
					<div class="yearText">
					<h6>
						<span>Anno<br><input type="number" class="year" th:field="*{year}" id="photography" min="1900" max="2022" step="1" value="2022" required/></span>
					<!--  
						<span>Anno<br><input type="text" class="year" th:field="*{year}" id="photography" placeholder="Inserisci anno" required/></span>
					-->
					 
					</h6>
					</div>
					<!-- 
					<span th:if="${#fields.hasErrors('year')}" th:errors="*{year}"></span>
					-->
					</td>
				</tr>
				
				<tr>
					<td>
					<div class="placeText">
					<h6>
						<span>Luogo<br><input type="text" class="place" th:field="*{place}" id="photography" placeholder="Inserisci luogo" required/></span>
					</h6>
					</div>
					<span th:if="${#fields.hasErrors('place')}" th:errors="*{place}"></span>
					</td>
			
					<td>
					<div class="categoryText">
					<h6>
						<label>Categoria</label>
						<br>
						<select id="category" class="category" th:field="*{category}" required>
						<option th:each="category : ${categories}"
								th:value="${category.id}" th:text="${category.name}"></option>
						</select>
					</h6>
					</div>
					</td>
				</tr>
					
				<tr>
					<td>
					<div class="photographerText">
					<h6>
						<label>Fotografo</label>
						<br>
						<select id="photographer" class="photographer" th:field="*{photographer}" required>
						<option th:each="photographer : ${photographers}"
								th:value="${photographer.id}" th:text="${photographer.name + ' ' + photographer.surname}"></option>
						</select>
					</h6>
					</div>
					</td>
					
					<td>
					<div class="fotoText">
					<h6>
						<span>Foto<br><input type="file" class="foto" name="image" accept="image/png, image/jpeg" required/></span>
					</h6>
					</div>
					</td>
				</tr>
	</table>
	<div>
		<h6><button class="button2" type="submit"><b>Inserisci</b></button></h6>
		</div>	
		</form>
		</div>
		</section>

<footer>
<ul class="footer-links-main">
	<li><a th:href="@{/default}">Home</a></li>
	<li><a th:href="@{/category}">Categorie</a></li>
	<li><a th:href="@{/photographer}">Fotografi</a></li>
	<li><a th:href="@{/photography}">Foto</a></li>
</ul>
<br>
<br>
<br>
<br>
<ul class="footer-links-cases">
	<li>info@gmail.com</li>
</ul>
</footer>
</body>
</html>